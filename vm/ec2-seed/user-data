#cloud-config
# vim:syntax=yaml
users:
# A user by the name ec2-user is created in the image by default.
  - default
# Following entry create user1 and assigns password specified in plain text.
# Please not use of plain text password is not recommended from security best
# practises standpoint
  - name: user1
    groups: sudo
    sudo: ['ALL=(ALL) NOPASSWD:ALL']
    plain_text_passwd: amazon
    lock_passwd: false
# Following entry creates user2 and attaches a hashed passwd to the user. Hashed
# passwords can be generated with:
# python -c 'import crypt,getpass; print crypt.crypt(getpass.getpass())'
  - name: user2
    passwd: amazon
    lock_passwd: false
  - name: user3
    ssh-authorized-keys:
            - ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABAQC6qTLUKcplsxt8IxzGC13YpqA+9ZXforvJdF3XeQKOzLrikjMGdYPUFTqjRzQwQMzmuRZJDPDPXbJ1MqpTI7xmP2LRJ84THn2+6kUofSKXMmzTV8EQvsxWJf9nDzJCtQWfYrFAGxEwtIK2CuycfrwqGqB5MZhFulpLes2U9LtpJpFwinwLoAiabZHlX+WW/6ZWt38WS8wgdJziyWHmyMUt1rMEOaS1E4xJ/nUDEOAMjYqNHj/gZLTNzJm9d2qtseGYbHuF7q/Dd52YeT8VLyQqupDR8YeKnUdbVwW6KNa6Scm5efwPvZL4EiTDDD2Q0HdNehieXbBhXJGMJ73sBV5r praween@u480fcf43c9865820ec18
    lock_passwd: true

chpasswd:
  list: |
    ec2-user:amazon
